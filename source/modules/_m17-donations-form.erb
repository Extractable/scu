<div class="m17">
    <h2>
        REQUEST A DONATION
        <span class="required">Fields marked with an asterisk <span>*</span> are required</span>
    </h2>
    <hr>

    <div class="form">
        <h3>Details of Application</h3>
        <hr>

        <form action="">
            <div class="form-group">
                <div class="form-element">
                    <label for="contact_name">Contact Name<span>*</span></label>
                    <input type="text" id="contact_name" autocomplete="off" aria-required="true" class="js-validate">
                    <div class="form-error" id="contact_name-error" tabindex="-1">
    					Contact name is required
    				</div>
                </div>
                <div class="form-element">
                    <label for="contact_org">Contact Organization<span>*</span></label>
                    <input type="text" id="contact_org" autocomplete="off" aria-required="true" class="js-validate">
                    <div class="form-error" id="contact_org" tabindex="-1">
    					Contact organization is required
    				</div>
                </div>
            </div>
            <div class="form-group">
                <div class="form-element">
                    <label for="org_purpose">Purpose of Organization<span>*</span></label>
                    <textarea id="org_purpose" autocomplete="off" aria-required="true" class="js-validate"></textarea>
                    <div class="form-error" id="org_purpose-error" tabindex="-1">
    					Please enter a purpose
    				</div>
                </div>
            </div>
            <div class="form-group">
                <div class="form-element">
                    <label for="org_address">Address<span>*</span></label>
                    <input type="text" id="org_address" autocomplete="off" aria-required="true" class="js-validate">
                    <div class="form-error" id="org_address-error" tabindex="-1">
    					Organization address is required
    				</div>
                </div>
            </div>
            <div class="form-group">
                <div class="form-element">
                    <label for="state">State<span>*</span></label>
                    <select id="state" aria-required="true" class="js-validate">
                        <option value=""></option>
						<option value="1">State 1</option>
						<option value="1">State 2</option>
						<option value="1">State 3</option>
						<option value="1">State 4</option>
						<option value="1">State 5</option>
						<option value="1">State 6</option>
					</select>
                    <div class="form-error" id="state-error" tabindex="-1">
    					State is required
    				</div>
                </div>
                <div class="form-element">
                    <label for=city">City<span>*</span></label>
                    <input type="text" id="city" autocomplete="true" aria-required="true" class="js-validate">
                    <div class="form-error" id=city-error" tabindex="-1">
    					City is required
    				</div>
                </div>
                <div class="form-element">
                    <label for=zip">Zip<span>*</span></label>
                    <input type="text" id="zip" autocomplete="true" aria-required="true" class="js-validate js-zip-mask">
                    <div class="form-error" id=zip-error" tabindex="-1">
    					Zip code is required
    				</div>
                </div>
            </div>

            <div class="form-group">
                <div class="form-element">
                    <label for="org_phone">Contact Phone Number<span>*</span></label>
                    <input type="text" id="org_phone" autocomplete="off" aria-required="true" class="js-validate js-phone-mask">
                    <div class="form-error" id="org_phone-error" tabindex="-1">
    					Contact phone number is required
    				</div>
                </div>
                <div class="form-element">
                    <label for="org_email">Contact Email<span>*</span></label>
                    <input type="text" id="org_email" autocomplete="off" aria-required="true" class="js-email">
                    <div class="form-error" id="org_email-error" tabindex="-1">
    					Contact email is required
    				</div>
                </div>
            </div>

            <fieldset>
                <div class="form-group" role="group" aria-labelledby="scuInOrg">
                    <div id="scuInOrg">
                        Are any SchoolsFirst FCU employees part of the organization?
                    </div>
                    <div class="options-group form-element third">
                        <div class="form-check-inline radio">
                            <input class="form-check-input" type="radio" name="scu_employee" id="scu_employee_yes" value="yes">
                            <label class="form-check-label" for="scu_employee_yes">Yes</label>
                        </div>
                        <div class="form-check-inline radio">
                            <input class="form-check-input" type="radio" name="scu_employee" id="scu_employee_no" value="no">
                            <label class="form-check-label" for="scu_employee_no">No</label>
                        </div>
                    </div>
                </div>
            </fieldset>
            <fieldset>
                <div class="form-group" role="group" aria-labelledby="prevSupport">
                    <div id="prevSupport" class="legend">
                        Has your organization received support from SchoolsFirst FCU in the past 12 months?<span>*</span>
                    </div>
                    <div class="options-group form-element third">
                        <div class="form-check-inline radio">
                            <input class="form-check-input" type="radio" name="support" id="support_yes" value="yes">
                            <label class="form-check-label" for="support_yes">Yes</label>
                        </div>
                        <div class="form-check-inline radio">
                            <input class="form-check-input" type="radio" name="support" id="support_no" value="no">
                            <label class="form-check-label" for="support_no">No</label>
                        </div>
                        <div class="form-error" id="support-error" tabindex="-1">
                            Please select employee status
                        </div>
                    </div>
                </div>
            </fieldset>

            <h3>Details of Request</h3>
            <hr>

            <div class="form-group">
                <div class="form-element">
                    <label for="state">Type of Organization<span>*</span></label>
                    <select id="state" aria-required="true" class="js-validate">
						<option value=""></option>
						<option value="Type 1">Type 1</option>
						<option value="Type 2">Type 2</option>
						<option value="Type 3">Type 3</option>
						<option value="Type 4">Type 4</option>
						<option value="Type 5">Type 5</option>
						<option value="Type 6">Type 6</option>
					</select>
                    <div class="form-error" id="state-error" tabindex="-1">
    					Type of organization is required
    				</div>
                </div>
                <div class="form-element">
                    <label for="state">Type of Request<span>*</span></label>
                    <select id="state" aria-required="true" class="js-validate">
						<option value=""></option>
						<option value="Request 1">Request 1</option>
						<option value="Request 2">Request 2</option>
						<option value="Request 3">Request 3</option>
						<option value="Request 4">Request 4</option>
						<option value="Request 5">Request 5</option>
						<option value="Request 6">Request 6</option>
					</select>
                    <div class="form-error" id="state-error" tabindex="-1">
    					Type of request is required
    				</div>
                </div>
            </div>
            <div class="form-group">
                <div class="form-element">
                    <label for="requestedItems">What will the requested item be used for?<span>*</span></label>
                    <textarea name="requestedItems" autocomplete="off" aria-required="true" id="requestedItems" class="js-validate"></textarea>
                    <div class="form-error" id="requestedItems-error" tabindex="-1">
                        Requested items use is required
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="form-element">
                    <label for="requestAmount">Dollar amount being requested<span>*</span></label>
                    <input type="text" id="requestAmount" autocomplete="off" aria-required="true" class="js-validate">
                    <div class="form-error" id="requestAmount-error" tabindex="-1">
    					Dollar amount being requested is required
    				</div>
                </div>
                <div class="form-element">
                    <label for="scuRecognition">How will SchoolsFirst FCU be recognized?<span>*</span></label>
                    <input type="text" id="scuRecognition" autocomplete="off" aria-required="true" class="js-validate">
                    <div class="form-error" id="scuRecognition-error" tabindex="-1">
    					How SchoolsFirst FCU is recognized is required
    				</div>
                </div>
            </div>
            <div class="form-group">
                <div class="form-element">
                    <label for="eventDate">Date of Event<span>*</span></label>
                    <input id="eventDate" autocomplete="off" aria-required="true" class="js-validate">
                    <div class="form-error" id="eventDate-error" tabindex="-1">
    					Date of event is required
    				</div>
                </div>
                <div class="form-element">
                    <label for="materialDate">Date You Need Donated Materials<span>*</span></label>
                    <input id="materialDate" autocomplete="off" aria-required="true" class="js-validate">
                    <div class="form-error" id="materialDate-error" tabindex="-1">
    					Date for donated materials is required
    				</div>
                </div>
            </div>
            <div class="form-group">
                <div class="form-element">
                    <label class="file" for="file">ATTACH DOCUMENT <span class="paperclip"><img src="/images/paperclip.png" alt=""></span></label>
                    <input type="file" name="file" id="file" class="inputfile" data-multiple-caption="{count} files selected" multiple />
                </div>
            </div>

            <div class="form-action">
                <a href="#" class="reset form-cancel" aria-label="Clear form fields">Cancel</a>
                <button type="button" class="btn btn-primary" id="donationRequest">
                    Submit <span class="oi oi-chevron-right" title="icon chevron-right" aria-hidden="true"></span>
                </button>
            </div>
        </form>

    </div>

    <script>
        $(function() {
            //Datepicker
            $('#materialDate').datepicker({
                uiLibrary: 'bootstrap4'
            });
            $('#eventDate').datepicker({
                uiLibrary: 'bootstrap4'
            });

            $('#donationRequest').on('click', function(e) {
                var form = $(this).closest('form');

                var isValid = true;

                //Validate Fields
                $('.js-validate', form).each(function() {
                    if($.trim($(this).val()) == '' && !$(this).parents('.form-group').hasClass('hidden') ){
                        var $thisId = $(this).attr('id');
                        isValid = false;

                        $(this).prev().addClass('has-error');
                        $(this).parents('.form-element').find('.form-error').show();
                        $(this).attr({
                            'aria-invalid' : 'true',
                            'aria-describedby' : $thisId + '-error'
                        });
                    } else {
                        $(this).prev().removeClass('has-error');
                        $(this).parents('.form-element').find('.form-error').hide();
                        $(this).attr({
                            'aria-invalid' : 'false',
                            'aria-describedby' : ''
                        });
                    }
                });

                //Validate Email Address
                var validEmail = true;
                var properEmail = true;
                var $emailError = $('#email-error-valid', form);
                var emailField = $('.js-email', form);
                $(emailField).filter(function(e){
                    var emil = $('.js-email', form).val();
                    var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
                    if( !emailReg.test( emil ) ) {
                        validEmail = false;
                    } else {
                        validEmail = true;
                    }
                });

                if( validEmail == false  || $('.js-email', form).val() == '' ) {
                    $(emailField).prev().addClass('has-error');
                    $(emailField).next().show();
                    $('#email').addClass('has-error').attr({
                        'aria-invalid' : 'true',
                        'aria-describedby' : 'email-error'
                    });
                    properEmail = false;
                } else {
                    $(emailField).prev().removeClass('has-error');
                    $(emailField).next().hide();
                    $('#email').removeClass('has-error').attr({
                        'aria-invalid' : 'false',
                        'aria-describedby' : ''
                    });
                    properEmail = true;
                }


                //Radio Buttons
                var radioCheck = true;
                if ($('input:radio[name="support"]').filter(':checked').length < 1){
                    radioCheck = false;
                    $('#support-error').show();
                } else {
                    $('#support-error').hide();
                }

                //Submit the data OR jump to first error
                if ( isValid == false  || radioCheck == false || properEmail == false ) {
                    $('.form [aria-invalid="true"]:first', form).focus();
                    e.preventDefault();
                } else {
                    //Allow form to be submitted
                }

            });
        });
    </script>
</div>
